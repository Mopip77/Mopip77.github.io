---
layout: post
title: Docker重点总结(4) ---- 数据管理
tags:
- linux
- docker
---

# 数据卷(volume)
**数据卷** 是一个可供一个或多个容器使用的特殊目录，它绕过 `UFS`，可以提供很多有用的特性：

- **数据卷** 可以在容器之间共享和重用
- 对 **数据卷** 的修改会立马生效
- 对 **数据卷** 的更新，不会影响镜像
- **数据卷** 默认会一直存在，即使容器被删

数据卷是被挂在到容器中的，可用`mount`查看

volume会被建立到/var/lib/docker/volumes下

```shell
docker volume create <volume_name>
docker volume ls

# 挂载
docker run -v <volume_name>:<container_dest> ...
```

# 挂载本地目录
除了建立的volume，本地文件夹也能挂载

```shell
# 本地文件或文件夹
-v <local_src>:<container_dest>
```

默认是读写模式，如果需要设置只读模式则不能用-v缩写，只能用全写--mount
`docker run --mount src=<volume_name>,target=<container_dest>,readonly ...`